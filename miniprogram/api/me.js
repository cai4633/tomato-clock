var AV = getApp().globalData.AV;
function getAllTomatoes() {
    var query = new AV.Query('Tomatoes');
    return query.descending('createdAt').limit(15).find().then(function (tomatoes) {
        return tomatoes.map(function (tomato) { return tomato.toJSON(); });
    });
}
function getAllCompleted() {
    var todoQuery = new AV.Query('Todos');
    var tomatoQuery = new AV.Query('Tomatoes');
    todoQuery.equalTo('completed', true).descending('createdAt').limit(10);
    tomatoQuery.equalTo('aborted', false).descending('createdAt').limit(10);
    return Promise.all([todoQuery.find(), tomatoQuery.find()]).then(function (response) { return response[0].map(function (item) { return item.toJSON(); }).concat(response[1].map(function (item) { return item.toJSON(); })); });
}
export { getAllTomatoes, getAllCompleted };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJtZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFUSxJQUFBLDJCQUFFLENBQXdCO0FBRWxDLFNBQVMsY0FBYztJQUNyQixJQUFNLEtBQUssR0FBRyxJQUFJLEVBQUUsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUE7SUFDdEMsT0FBTyxLQUFLLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUMsVUFBQyxRQUFzQjtRQUNoRixPQUFPLFFBQVEsQ0FBQyxHQUFHLENBQUMsVUFBQyxNQUFNLElBQUssT0FBQSxNQUFNLENBQUMsTUFBTSxFQUFFLEVBQWYsQ0FBZSxDQUFDLENBQUE7SUFDbEQsQ0FBQyxDQUFDLENBQUE7QUFDSixDQUFDO0FBRUQsU0FBUyxlQUFlO0lBQ3RCLElBQU0sU0FBUyxHQUFHLElBQUksRUFBRSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQTtJQUN2QyxJQUFNLFdBQVcsR0FBRyxJQUFJLEVBQUUsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUE7SUFDNUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQTtJQUN0RSxXQUFXLENBQUMsT0FBTyxDQUFDLFNBQVMsRUFBRSxLQUFLLENBQUMsQ0FBQyxVQUFVLENBQUMsV0FBVyxDQUFDLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFBO0lBQ3ZFLE9BQU8sT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUUsRUFBRSxXQUFXLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFDLFFBQXdDLElBQUssT0FBSSxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLFVBQUEsSUFBSSxJQUFJLE9BQUEsSUFBSSxDQUFDLE1BQU0sRUFBRSxFQUFiLENBQWEsQ0FBQyxRQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsVUFBQSxJQUFJLElBQUksT0FBQSxJQUFJLENBQUMsTUFBTSxFQUFFLEVBQWIsQ0FBYSxDQUFDLEdBQXJGLENBQXNGLENBQUMsQ0FBQTtBQUN2TSxDQUFDO0FBRUQsT0FBTyxFQUFFLGNBQWMsRUFBRSxlQUFlLEVBQUUsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFRvZG9MaXN0SXRlbSwgVG9tYXRvSXRlbSB9IGZyb20gJy4uLy4uL3R5cGluZ3MvdHlwZXMvaW5kZXgnO1xyXG5cclxuY29uc3QgeyBBViB9ID0gZ2V0QXBwKCkuZ2xvYmFsRGF0YVxyXG5cclxuZnVuY3Rpb24gZ2V0QWxsVG9tYXRvZXMoKSB7IC8v5pyA6L+R5LiA5ZGoXHJcbiAgY29uc3QgcXVlcnkgPSBuZXcgQVYuUXVlcnkoJ1RvbWF0b2VzJylcclxuICByZXR1cm4gcXVlcnkuZGVzY2VuZGluZygnY3JlYXRlZEF0JykubGltaXQoMTUpLmZpbmQoKS50aGVuKCh0b21hdG9lczogVG9tYXRvSXRlbVtdKSA9PiB7XHJcbiAgICByZXR1cm4gdG9tYXRvZXMubWFwKCh0b21hdG8pID0+IHRvbWF0by50b0pTT04oKSlcclxuICB9KVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRBbGxDb21wbGV0ZWQoKSB7XHJcbiAgY29uc3QgdG9kb1F1ZXJ5ID0gbmV3IEFWLlF1ZXJ5KCdUb2RvcycpXHJcbiAgY29uc3QgdG9tYXRvUXVlcnkgPSBuZXcgQVYuUXVlcnkoJ1RvbWF0b2VzJylcclxuICB0b2RvUXVlcnkuZXF1YWxUbygnY29tcGxldGVkJywgdHJ1ZSkuZGVzY2VuZGluZygnY3JlYXRlZEF0JykubGltaXQoMTApXHJcbiAgdG9tYXRvUXVlcnkuZXF1YWxUbygnYWJvcnRlZCcsIGZhbHNlKS5kZXNjZW5kaW5nKCdjcmVhdGVkQXQnKS5saW1pdCgxMClcclxuICByZXR1cm4gUHJvbWlzZS5hbGwoW3RvZG9RdWVyeS5maW5kKCksIHRvbWF0b1F1ZXJ5LmZpbmQoKV0pLnRoZW4oKHJlc3BvbnNlOiBbVG9kb0xpc3RJdGVtW10sIFRvbWF0b0l0ZW1bXV0pID0+IFsuLi5yZXNwb25zZVswXS5tYXAoaXRlbSA9PiBpdGVtLnRvSlNPTigpKSwgLi4ucmVzcG9uc2VbMV0ubWFwKGl0ZW0gPT4gaXRlbS50b0pTT04oKSldKVxyXG59XHJcblxyXG5leHBvcnQgeyBnZXRBbGxUb21hdG9lcywgZ2V0QWxsQ29tcGxldGVkIH0iXX0=